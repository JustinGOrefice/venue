<div class='row'>
  <div class='col-xs-12'>
    <h4 ng-show="creating"> Create New Section </h4>
    <h4 ng-hide="creating"> Edit Section {{section.sectionNumbersText}}</h4>
    <form class="form" name="form" ng-submit="submitForm(form)" novalidate ng-show="!success">
      <div class="form-group" ng-class="{ 'has-success': form.sectionNumbers.$valid && submitted,
                                          'has-error': form.sectionNumbers.$invalid && submitted }">
        <label>Section Number</label>
        <input type="text" style="width: 300px;"name="sectionNumbers" class="form-control" ng-model="section.sectionNumbersText"
               required/>
        <p class="instructions">
          Please enter Comma Delimited Numbers Eg.(1, 3, 4, 12)
        </p>
        <p class="help-block" ng-show="form.sectionNumbers.$error.required && submitted">
          A Section number is required
        </p>


        <label>Current Section Instructors</label><br>
        <ul class="list-group">
          <p ng-show="currentInstructors.length==0">No Instructors</p>
          <div ng-repeat="instructor in currentInstructors = (allInstructors | filter:{current:true} | orderBy:'orderNum')">
            <li style="margin-top:10px; width:300px;" class="list-group-item">{{instructor.name}}
              <span class="pull-right">
                <!-- <button type="button" class="btn btn-danger btn-xs" ng-click="removeCurrent(instructor)">Remove</button> -->
                <button type="button" style="color: red; outline: none; border: 0; background: transparent;"class="glyphicon glyphicon-remove" ng-click="removeCurrent(instructor)"/>
              </span>
            </li>

            <!-- <div modal="instructorModal" close="cancel()">
              <div class="modal-header">
                <h4>Remove an Instructor</h4>
              </div>
              <div class="modal-body">
                <p>Remove {{instructor.name}}?</p>
              </div>
              <div class="modal-footer">
                <button class="btn btn-success" ng-click="removeInstructor(instructor)">Okay</button>
                <button class="btn" ng-click="cancel()">Cancel</button>
              </div>
            </div>   -->
            <div class="modal fade" id="instructorModal" tabindex="-1" role="dialog" aria-labelledby="instructorModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>
                  </div>
                  <div class="modal-body">
                    Are you sure you want to remove?
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" ng-click="removeCurrent(instructor)">Remove</button>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </ul>


        <label>Add Instructor</label>
        <div class="instructor-add">
          <div class="ia-input">
            <input type="text" ng-model="searchText" ng-keyup="filterSearch(searchText)" class="form-control"/>
            <div class="list-group">
                <a class="list-group-item" style="color:black;" ng-show="showInstructorList" ng-click="selectInstructor(instructor)" ng-repeat="instructor in filteredInstructors | limitTo:5 | filter:{current:false} | orderBy:'name'">{{instructor.name}}</a>
            </div>
          </div>
          <div class="ia-button">
            <button class="btn btn-primary" type="button" ng-click="addInstructor()" ng-show="showAddButton">Add</button>
          </div>
        </div>
      </div>

      <div class="form-group" ng-class="{ 'has-success': section.enrollmentPolicy && submitted,
      'has-error': !section.enrollmentPolicy && submitted }">
        <label>Enrollment Policy</label>
        <br>
        <div class="btn-group" data-toggle="buttons">
            <label class="btn btn-default" ng-class="{active:section.enrollmentPolicy=='open'}">
                <input value="open" type="radio" data-ng-model="section.enrollmentPolicy">Open
            </label>
            <!-- <label class="btn btn-default"  ng-class="{active:section.enrollmentPolicy=='closed'}">
            <input value="closed" type="radio" data-ng-model="section.enrollmentPolicy">Closed
            </label> -->
            <label class="btn btn-default"  ng-class="{active:section.enrollmentPolicy=='approvalRequired'}">
                <input value="approvalRequired" type="radio" checked="checked" data-ng-model="section.enrollmentPolicy">Approval Required
            </label>
        </div>
        <p class="help-block" ng-show="!section.enrollmentPolicy && submitted">
            An enrollment policy is required
        </p>
      </div>

      <div class="form-group" >
        <button type="button" class="btn btn-primary btn-danger" ng-show="updating == 'true'" ng-click="deleteSection(section)">
          Delete Section
        </button>
      </div>
      <div class="form-group" >
        <button class="btn btn-primary btn-lg btn-register" type='submit'>
          {{updating?"Save":"Submit"}} Section
        </button>
      </div>
    </form>
  </div>
</div>
